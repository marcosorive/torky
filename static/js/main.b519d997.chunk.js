(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(23)},19:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(10),s=a.n(o),l=a(1),c=a(2),i=a(4),u=a(3),m=a(5),d=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"text-center mt-3"},n.a.createElement("h1",null,n.a.createElement("a",{href:"/",className:"indigo-text"},"Torky")),n.a.createElement("h5",null,"Encuentra el mejor precio para comprar videojuegos en Espa\xf1a"))}}]),t}(n.a.Component),p=function(e){function t(e){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"mx-auto my-3 text-center"},n.a.createElement("p",null,"Made with ",n.a.createElement("span",{role:"img","aria-label":"heart emoji"},"\u2764\ufe0f")," in Spain | ",n.a.createElement("a",{href:"","data-toggle":"modal","data-target":"#js-modal-info",className:"indigo-text"},"Informaci\xf3n"),"  | ",n.a.createElement("a",{href:"","data-toggle":"modal","data-target":"#js-modal-contact",className:"indigo-text"},"Contacto"))),n.a.createElement("div",{id:"js-modal-info",class:"modal fade",role:"dialog"},n.a.createElement("div",{class:"modal-dialog modal-dialog-centered modal-lg"},n.a.createElement("div",{class:"modal-content"},n.a.createElement("div",{class:"modal-header indigo text-white"},n.a.createElement("h4",{class:"modal-title"},"\xa1Hola!")),n.a.createElement("div",{class:"modal-body"},n.a.createElement("p",null,"Este es un peque\xf1o proyecto que he creado como parte de mi aprendizaje como desarrollador, as\xed que no siempre funciona a la perfecci\xf3n. Dejo un peque\xf1o FAQ.",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{class:"store-style"},"\xbfPor qu\xe9 Game tarda m\xe1s y muchas veces no funciona?"),' La web de Game (en mi experiencia) se basa fuertemente en javascript y carga din\xe1mica de contenidos. Mi sistema se basa en hacer una b\xfasqueda y obtener el precio, pero el servidor de Game devuelve una web "vac\xeda" y luego lo "rellena". Prueba de esto es que cuando buscas durante unos segundos ves un mensaje de "Cargando..." y despu\xe9s aparecen los resultados. Sigo trabajando para mejorar mi sistema, espero poder arreglarlo en el futuro. '),n.a.createElement("li",null,n.a.createElement("span",{class:"store-style"},"\xbfSolo 5 tiendas? \xbfHabr\xe1 m\xe1s?")," En mi experiencia como comprador de videojuegos, Amazon, Fnac, Game e Instant Gaming son los sitios con mejores precios y adem\xe1s fiables. El Corte ingl\xe9s es caro, pero quer\xeda a\xf1adir alguna m\xe1s ver otras opciones. Si quieres aparecer contacta conmigo."),n.a.createElement("li",null,n.a.createElement("span",{class:"store-style"},"\xbfEl servicio es gratis? \xbfHay costes a\xf1adidos?")," Si, completamente gratis y lo seguir\xe1 siendo. Esto es parte de mi mejora como desarrollador y no pretendo ganar dinero con ello. Si puedo pagarme unas cervezas con los enlaces referidos me dar\xe9 con un canto en los dientes :)"))),n.a.createElement("h4",null,"\xbfEres desarrollador? "),n.a.createElement("p",null,"Si eres dev o simplemente te gusta la tecnolog\xeda te cuento un poco m\xe1s como est\xe1 hecho esto. El back-end est\xe1 hecho en python sobre Flask. Hab\xeda trabajando antes con Django y me apetec\xeda probar otro framework. Para el front-end he usado Bootstrap 4 y javascript vanilla. Bootstrap usa JQuery y ya que lo cargo desde el cdn podr\xeda haberlo usado, pero quer\xeda probar con JS puro.",n.a.createElement("br",null),"Para obtener los precios he creado un web scrapper usando BeautifulSoup, excepto para amazon que uso su API. Las webs de fnac, corte ingl\xe9s e Instant gaming fueron muy f\xe1ciles de scrappear, la de Game me est\xe1 costando un poco.",n.a.createElement("br",null),n.a.createElement("br",null),"Si quieres contactar conmigo por cualquier raz\xf3n busca abajo el apartado de contacto.")),n.a.createElement("div",{class:"modal-footer"},n.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"))))),n.a.createElement("div",{id:"js-modal-contact",class:"modal fade",role:"dialog"},n.a.createElement("div",{class:"modal-dialog modal-dialog-centered modal-lg"},n.a.createElement("div",{class:"modal-content"},n.a.createElement("div",{class:"modal-header indigo text-white"},n.a.createElement("h4",{class:"modal-title"},"Contacto")),n.a.createElement("div",{class:"modal-body"},n.a.createElement("p",null,"Puedes contactar conmigo principalmente por dos v\xedas:",n.a.createElement("ul",null,n.a.createElement("li",null,"Email: ",n.a.createElement("a",{href:"mailto:marcos@orive.me",target:"_blank"},"marcos(at)orive.me")," "),n.a.createElement("li",null,"Twitter: ",n.a.createElement("a",{href:"https://twitter.com/marcosorive",target:"_blank"},"@marcosorive"))),"Me pondr\xe9 en contacto contigo lo antes que pueda.")),n.a.createElement("div",{class:"modal-footer"},n.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"))))),n.a.createElement("div",{id:"js-modal-data",class:"modal fade",role:"dialog"},n.a.createElement("div",{class:"modal-dialog modal-dialog-centered modal-lg"},n.a.createElement("div",{class:"modal-content"},n.a.createElement("div",{class:"modal-header indigo text-white"},n.a.createElement("h4",{class:"modal-title"},"Recolecci\xf3n de datos")),n.a.createElement("div",{class:"modal-body"},n.a.createElement("p",null,n.a.createElement("ul",null,n.a.createElement("li",null,"Las cookies de terceros que utilizamos son por usar los CDN de cloudflare y JQuery. La \xfanica cookie propia que usamos es para no tener que molestarte con el mensaje cada vez que entras. ",n.a.createElement("a",{href:"http://cookiesandyou.com/",target:"_blank"},"Aprende m\xe1s obre las cookies.")),n.a.createElement("li",null,"Los datos que recolectamos son los siguientes: lo que se busca y cuando se busca. Es decir, el nombre del juego y la fecha y hora. No se recolecta ning\xfan dato personal. Puedes ver el c\xf3digo fuente para comprobarlo en ",n.a.createElement("a",{href:"https://github.com/marcosorive",target:"_blank"},"mi github")," El fin de esto es puramente estad\xedstico, aunque dudo que mucha gente vaya a usar este sitio, podr\xeda sacar conclusiones interesantes.")))),n.a.createElement("div",{class:"modal-footer"},n.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"))))))}}]),t}(n.a.Component),h=a(6),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={emptySearch:!1,inputValue:void 0,platformValue:void 0},a.handleQueryChange=a.handleQueryChange.bind(Object(h.a)(Object(h.a)(a))),a.handlePlatformChange=a.handlePlatformChange.bind(Object(h.a)(Object(h.a)(a))),a.handleKeyPress=a.handleKeyPress.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(void 0!==this.state.inputValue?(this.setState({emptySearch:!1}),this.props.searchButtonClick({query:this.state.inputValue,platform:this.state.platformValue})):this.setState({emptySearch:!0}))}},{key:"handleQueryChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"handlePlatformChange",value:function(e){this.setState({platformValue:e.target.value})}},{key:"render",value:function(){return!1===this.state.emptySearch?n.a.createElement("div",{className:"input-group mt-5",onKeyPress:this.handleKeyPress},n.a.createElement("input",{className:"form-control border-secondary py-2",id:"search-query",type:"text",placeholder:"Ej.: Super Smash Bros. Ultimate",onChange:this.handleQueryChange,value:this.state.inputValue}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("select",{className:"btn btn-outline-secondary",onChange:this.handlePlatformChange,value:this.state.platformValue},n.a.createElement("option",{value:"all",selected:!0},"Elige Plataforma"),n.a.createElement("option",{value:"all"},"Todas"),n.a.createElement("option",{value:"pc"},"PC"),n.a.createElement("option",{value:"nintendo"},"Nintendo"),n.a.createElement("option",{value:"playstation"},"Playstation"),n.a.createElement("option",{value:"xbox"},"Xbox")))):n.a.createElement("div",null,n.a.createElement("div",{className:"input-group mt-5",onKeyPress:this.handleKeyPress},n.a.createElement("input",{className:"form-control border-danger py-2",id:"search-query",type:"text",placeholder:"Ej.: Super Smash Bros. Ultimate",onChange:this.handleQueryChange,value:this.state.inputValue}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("select",{className:"btn btn-outline-secondary",onChange:this.handlePlatformChange,value:this.state.platformValue},n.a.createElement("option",{value:"0",selected:!0},"Elige Plataforma"),n.a.createElement("option",{value:"all"},"Todas"),n.a.createElement("option",{value:"pc"},"PC"),n.a.createElement("option",{value:"nintendo"},"Nintendo"),n.a.createElement("option",{value:"playstation"},"Playstation"),n.a.createElement("option",{value:"xbox"},"Xbox")))),n.a.createElement("div",{class:"text-center mt-4 text-danger"},"Debes rellenar el campo de b\xfasqueda"))}}]),t}(n.a.Component),y=a(7),v=a.n(y),b=a(8),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={query:a.props.query,store:a.props.store,isLoaded:!1,results:void 0,error:void 0},a.fetchApiResults=a.fetchApiResults.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"fetchApiResults",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://torky.herokuapp.com/api/search/"+this.props.query+"/"+this.props.store,{mode:"cors"});case 3:if(!(t=e.sent).ok){e.next=13;break}return e.t0=this,e.next=8,t.json();case 8:e.t1=e.sent,e.t2={isLoaded:!0,results:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=14;break;case 13:this.setState({isLoaded:!0,error:t.error});case 14:e.next=19;break;case 16:e.prev=16,e.t3=e.catch(0),this.setState({isLoaded:!0,error:e.t3.message});case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchApiResults();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.query===this.state.query&&this.props.store===this.state.store){e.next=4;break}return this.setState({query:this.props.query,store:this.props.store,isLoaded:!1,results:void 0,error:void 0}),e.next=4,this.fetchApiResults();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.isLoaded){if(this.state.error)return n.a.createElement("li",{className:"list-group-item"},n.a.createElement("span",{className:"store-style"},this.props.verboseStore),n.a.createElement("div",null,"No se ha podido encontrar el precio"));var e=this.state.results;return n.a.createElement("li",{className:"list-group-item"},n.a.createElement("span",{className:"store-style"},this.props.verboseStore),n.a.createElement("ul",null,n.a.createElement("li",null,e.gamename),n.a.createElement("li",null,"Precio: ",e.price,"  - ",n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},"Comprar"))))}return n.a.createElement("li",{className:"list-group-item"},n.a.createElement("span",{className:"store-style"},this.props.verboseStore),n.a.createElement("div",null,n.a.createElement("div",{className:"lds-css ng-scope"},n.a.createElement("div",{className:"lds-spinner"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)))))}}]),t}(n.a.Component),f=function(e){function t(e){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){switch(this.props.platform){case"all":return n.a.createElement("div",null,n.a.createElement(g,{query:this.props.query,store:"amazon",verboseStore:"Amazon"}),n.a.createElement(g,{query:this.props.query,store:"fnac",verboseStore:"Fnac"}),n.a.createElement(g,{query:this.props.query,store:"game",verboseStore:"Game"}),n.a.createElement(g,{query:this.props.query,store:"corte_ingles",verboseStore:"El corte ingl\xe9s"}),n.a.createElement(g,{query:this.props.query,store:"instant_gaming",verboseStore:"Instant Gaming"}),n.a.createElement(g,{query:this.props.query,store:"steam",verboseStore:"Steam"}),n.a.createElement(g,{query:this.props.query,store:"nintendo",verboseStore:"Nintendo eShop"}),n.a.createElement(g,{query:this.props.query,store:"playstation",verboseStore:"Playstation Store"}),n.a.createElement(g,{query:this.props.query,store:"xbox",verboseStore:"Xbox"}));case"pc":return n.a.createElement("div",null,n.a.createElement(g,{query:this.props.query,store:"steam",verboseStore:"Steam"}),n.a.createElement(g,{query:this.props.query,store:"amazon",verboseStore:"Amazon"}),n.a.createElement(g,{query:this.props.query,store:"fnac",verboseStore:"Fnac"}),n.a.createElement(g,{query:this.props.query,store:"game",verboseStore:"Game"}),n.a.createElement(g,{query:this.props.query,store:"corte_ingles",verboseStore:"El corte ingl\xe9s"}),n.a.createElement(g,{query:this.props.query,store:"instant_gaming",verboseStore:"Instant Gaming"}));case"nintendo":return n.a.createElement("div",null,n.a.createElement(g,{query:this.props.query,store:"nintendo",verboseStore:"Nintendo eShop"}),n.a.createElement(g,{query:this.props.query,store:"amazon",verboseStore:"Amazon"}),n.a.createElement(g,{query:this.props.query,store:"fnac",verboseStore:"Fnac"}),n.a.createElement(g,{query:this.props.query,store:"game",verboseStore:"Game"}),n.a.createElement(g,{query:this.props.query,store:"corte_ingles",verboseStore:"El corte ingl\xe9s"}),n.a.createElement(g,{query:this.props.query,store:"instant_gaming",verboseStore:"Instant Gaming"}));case"playstation":return n.a.createElement("div",null,n.a.createElement(g,{query:this.props.query,store:"playstation",verboseStore:"Playstation Store"}),n.a.createElement(g,{query:this.props.query,store:"amazon",verboseStore:"Amazon"}),n.a.createElement(g,{query:this.props.query,store:"fnac",verboseStore:"Fnac"}),n.a.createElement(g,{query:this.props.query,store:"game",verboseStore:"Game"}),n.a.createElement(g,{query:this.props.query,store:"corte_ingles",verboseStore:"El corte ingl\xe9s"}),n.a.createElement(g,{query:this.props.query,store:"instant_gaming",verboseStore:"Instant Gaming"}));case"xbox":return n.a.createElement("div",null,n.a.createElement(g,{query:this.props.query,store:"xbox",verboseStore:"Xbox"}),n.a.createElement(g,{query:this.props.query,store:"amazon",verboseStore:"Amazon"}),n.a.createElement(g,{query:this.props.query,store:"fnac",verboseStore:"Fnac"}),n.a.createElement(g,{query:this.props.query,store:"game",verboseStore:"Game"}),n.a.createElement(g,{query:this.props.query,store:"corte_ingles",verboseStore:"El corte ingl\xe9s"}),n.a.createElement(g,{query:this.props.query,store:"instant_gaming",verboseStore:"Instant Gaming"}));default:return n.a.createElement("div",null,n.a.createElement(g,{query:this.props.query,store:"amazon",verboseStore:"Amazon"}),n.a.createElement(g,{query:this.props.query,store:"fnac",verboseStore:"Fnac"}),n.a.createElement(g,{query:this.props.query,store:"corte_ingles",verboseStore:"El corte ingl\xe9s"}),n.a.createElement(g,{query:this.props.query,store:"instant_gaming",verboseStore:"Instant Gaming"}))}}}]),t}(n.a.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={query:a.props.query,platform:a.props.platform},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container-fluid results-container"},n.a.createElement("div",{class:"row my-5"},n.a.createElement("div",{class:"col-sm-12 mx-auto"},n.a.createElement("div",{class:"card"},n.a.createElement("h3",{class:"card-header indigo text-white"},"Resultados para: ",this.props.query),n.a.createElement("ul",{class:"list-group list-group-flush"},n.a.createElement(f,{query:this.props.query,platform:this.props.platform}))))))}}]),t}(n.a.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={searched:!1,newSearchToggle:!1,query:void 0,platform:void 0},a.searchButtonClick=a.searchButtonClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"searchButtonClick",value:function(e){this.setState({searched:!0,query:e.query,platform:e.platform}),this.forceUpdate()}},{key:"render",value:function(){return this.state.searched?n.a.createElement("div",{className:"fit-parent"},n.a.createElement(E,{searchButtonClick:this.searchButtonClick}),n.a.createElement(q,{query:this.state.query,platform:this.state.platform})):n.a.createElement("div",{className:"fit-parent"},n.a.createElement(E,{searchButtonClick:this.searchButtonClick}))}}]),t}(n.a.Component),S=(a(19),a(21),function(e){function t(e){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"vertical-center"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{class:"col-sm-12 align-self-center container-fluid search-container"},n.a.createElement("div",{class:"row my-auto"},n.a.createElement("div",{class:"col-sm-12 col-md-7 col-lg-6 mx-auto"},n.a.createElement(d,null),n.a.createElement(j,null),n.a.createElement(p,null)))))))}}]),t}(n.a.Component));s.a.render(n.a.createElement(S,null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.b519d997.chunk.js.map